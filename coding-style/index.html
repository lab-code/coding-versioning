<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Coding style - Code better</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Coding style";
    var mkdocs_page_input_path = "coding-style.md";
    var mkdocs_page_url = "/coding-style/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Code better</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../versioning/">Versioning</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Coding style</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#overview">Overview</a></li>
                
            
                <li class="toctree-l3"><a href="#general-guide">General guide</a></li>
                
                    <li><a class="toctree-l4" href="#better-coding">Better coding</a></li>
                
                    <li><a class="toctree-l4" href="#naming-conventions">Naming conventions</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../coding-tips/">Coding tips</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../examples/">Examples</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Languages</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../languages/matlab/">Matlab</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../languages/r/">R</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../languages/python/">Python</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Code better</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Coding style</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="overview">Overview</h1>
<h1 id="general-guide">General guide</h1>
<p>This is a section of general style, dos and don'ts. For language specific requirements and better tips, go to language specific section. Examples here use variety of languages to better illustrate the concepts.</p>
<h2 id="better-coding">Better coding</h2>
<h4 id="self-sustaining-code">Self sustaining code</h4>
<p>Functions and classes should be, where possible, independent on other classes and inputs. If a function requires a special input that only another function provides, there is then a question whether it wouldn't be better to combine both. Exception is usually preprocessing.</p>
<p>Use default types where possible - don't pass classes or structs or lists into toher functions if not absolutely necessary. It makes code effective but also less understandable as you look at a function which accepts list of settings and its not clear what that list contains. Comments in the function with description of the list create useless texts, as the list is already defined elsewhere and makes everything bloated and hard to sustain. Imagine that you want to make change to the list structure, remove fields etc - then you need to look for all functions that used it and check, if they still work - boring and bothersome.</p>
<pre><code class="matlab">settings = struct()
settings.channels = 64
settings.outcome = 'matrix'
selectmatrix(data, settings) % BAD style - doesn't raise errors and warning and needs high control on the selectmatrix function side. Also, can lead to settings definitions far away from the function which reduces reading flow. Also, it is LONG!

selectmatrix(data, 'channels', 64, 'outcome', 'matrix') % GOOD - clear what it does, can be easilly controlled in the function. One line as well.
</code></pre>

<p>Use defensive programming!
Defensive programming is writing code that reports errors and doesn't allow to fail in the middle just because. It is extremely important especially in languages as matlab, R, javascript etc. that allow non typed variables to be accepted - eg.g user can pass matrix instead of value by mistake and function will allow it. Defensive programming is also paramount in all cases where users directly interact with functions. It is not as important in functions that only other functions call.</p>
<p>defensive programming can be implemented by assertions as well as clearly stating what type of variable you expect and what you return</p>
<pre><code class="matlab">% FUNCTION to return first character of given string
function[output] = rtrnfrstch(input) %BAD - not clear what shoudl go in and what to expect
  output = input(1) %BAD - what if input is a struct?
end

%GOOD
function [outputCharacter] = returnfirstletter(inputString)
  assert()
  if ~character(inputString)
    warning() %well defined matlab warning message
  end
  outputCharacter = inputString(1)
end
</code></pre>

<pre><code class="matlab">function [character] = returnfirstletter(inputString)
end
</code></pre>

<h3 id="flow">Flow</h3>
<p>Don't use while unless you are a absolutely sure what you are doing.</p>
<h3 id="comments">Comments</h3>
<p>General rule is that every comment in flow points to poorly written code. If you use non standard naming conventions, non standard input types etc. then you need comments. But at that time it's important to ask a question, shouldn't I rather rewrite the code behind?</p>
<p>If you can't, or the functions do not make sense, then add comments.</p>
<h3 id="functions">Functions</h3>
<ul>
<li>Functions should be self sustained where possible. Should not depend on other functions or inputs that are not of basic types (integer, string, list etc.).</li>
<li>functions should validate input where error can be expected</li>
<li>
<p>function should not depend on specific input of other functions if possible - this can lead to confusion in complex functions as matlab or R doesn't well implement namespaces and classes</p>
</li>
<li>
<p>naming should be preserved throughout functions if possible (if one function accepts "header" as parameter, the passing script should also pass in header variable)</p>
</li>
<li>functions should be short (under 60 lines) and do a single thing</li>
</ul>
<h2 id="naming-conventions">Naming conventions</h2>
<p>These are some of the naming conventions that deal with clarity of the text. Each programming language has some rules and conventions that you should adopt to better communicate with the community, share and collaborate. Please refer to each individual programming language for specifics of naming. Here are only general style requirements.</p>
<h3 id="variables">Variables</h3>
<p>Things should be named clearly, uniquely.</p>
<pre><code class="matlab">ch = 3 %BAD
channel = 3
selCh_i = [5:10]  %BAD
selectedChannelsIndices = [5:10] %GOOD
</code></pre>

<p>Namig should reflect what will reside inside, therefore keep plurals, indicate if it will be a number or string, etc.</p>
<pre><code class="r">results = data.frame(id = c(1:100), height = seq())

carIndex = c(2,3,4) #BAD - should be carIndices
completeCases = c(1:54, 67:98) #SEMI-GOOD - better use of plural, but we don't know if it talks about rows, list indices, referencing table column
completeCasesRows =  c(1:54, 67:98) #GOOD
resultsTable[completeCaseRows, ] #simple selection

completeCasesId = c(1:54, 67:98) #GOOD
results[results$id %in% completeCasesId, ] #selection based on id
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../coding-tips/" class="btn btn-neutral float-right" title="Coding tips">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../versioning/" class="btn btn-neutral" title="Versioning"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../versioning/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../coding-tips/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
